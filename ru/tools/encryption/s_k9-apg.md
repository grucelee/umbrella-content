---
index: 5
title: K9 & Open Keychain
---
# РУКОВОДСТВО ПО ИНСТРУМЕНТАМ K-9 & OPEN KEYCHAIN


**Урок для чтения: [E-mail уровня Продвинутый](umbrella://communications/email/advanced).**   
**Уровень**: Продвинутый  
**Опубликовано:** май 2018  
**Источники:** Безопасность-в-коробке, [K9 с APG для Android](https://securityinabox.org/en/guide/k9/android/), Open Keychain [FAQ](https://www.openkeychain.org/faq/).

**K-9 Mail** - это бесплатный почтовый клиент с открытым исходным кодом для устройств Android.

**Open Keychain** - это бесплатное приложение с открытым исходным кодом, которое позволяет шифровать, расшифровывать и подписывать файлы, сообщения или электронные письма, используя шифрование с открытым ключом, например OpenPGP. Он основан на коде из аналогичного инструмента под названием APG, который сейчас не поддерживается.

**Использование K-9 Mail с Open Keychain даст вам:**
- Возможность использовать зашифрованную электронную почту на вашем устройстве Android.

**Местоположение загрузки:** [K-9 Mail](https://play.google.com/store/apps/details?id=com.fsck.k9) и [Open Keychain](https://play.google.com/store/apps/details?) в Google Play.   
**Требования к программному обеспечению:** Android 4.0.3 и выше.   
**Версия, используемая в этом руководстве**: 5.403 (K-9 Mail); 5.0.2 (Open Keychain)   
**Лицензия**: FOSS.  

# 1. Введение

**K-9 Mail** - это универсальный почтовый клиент, который позволит вам отправлять и получать электронную почту с одной или нескольких учетных записей электронной почты на вашем устройстве Android, а также делать это более безопасно с помощью [Open Keychain](https://play.google.com/store/apps/details?id=org.sufficientlysecure.keychain&hl=en_GB).

**Примечание:**
- Безопасные службы обмена сообщениями, такие как Signal, являются лучшим выбором для конфиденциальных сообщений, чем электронная почта.
- Перенос закрытого ключа шифрования на ваш телефон может сделать электронную почту на устройстве более безопасной, но также это делает ключ более уязвимым для потери или перехвата. (Open Keychain описывает риски на своем [веб-сайте](https://www.openkeychain.org/faq/#are-my-secret-keys-safe-on-my-mobile-device).)
- *Получатели* и *Тема* не могут быть скрыты от кого-либо, кто следит за вашей электронной почтой, даже если электронная почта зашифрована.

Перед началом использования **K-9 Mail** вам понадобится:
- Интернет-соединение на вашем телефоне.
- Аккаунт E-mail, который поддерживает безопасные соединения POP3 или IMAP. (Посмотрите, какие настройки вы бы использовали с наиболее распространенными поставщиками электронной почты [здесь](https://k9mail.github.io/documentation/accounts/providerSettings.html).
- Пара ключей OpenPGP и открытые ключи людей, с которыми вы будете общаться.

(Подробнее о шифровании с открытым/закрытым ключом читайте в уроке [E-mail](umbrella://communications/email). Узнайте, как создать собственный ключ в руководствах для [Mailvelope](umbrella://tools/messaging/s_mailvelope.md), или PGP для [LINUX](umbrella://tools/pgp/s_pgp-for-linux.md), [Mac OSX](umbrella://tools/pgp/s_pgp-for-mac-os-x.md) или [Windows](umbrella://tools/pgp/s_pgp-for-windows.md).)

# 2. Установка и настройка K9 Mail

## 2.1 Установка

**Шаг 1.** Загрузите и установите K-9 Mail из [Google Play](https://play.google.com/store/apps/details?id=com.fsck.k9). Внимательно просмотрите разрешения, которые вы предоставляете приложению.

![](tool_k9_1.png)

**Шаг 2.** **Нажмите** *Открыть*, чтобы запустить приложение в первый раз.

## 2.2 Настройка

Нажмите *Далее*, чтобы начать настройку учетной записи.

Там, где это возможно, **K-9 Mail** попытается настроить вашу учетную запись автоматически. Если это невозможно или если вы хотите больше контролировать процесс настройки учетной записи, вы также можете настроить его вручную.

**Шаг 1:** Введите адрес e-mail и пароль в соответствующие поля и нажмите *Далее.*

![](tool_k9_2.png)

K-9 Mail подключится к Интернету и попытается получить настройки вашей учетной записи.

**Примечание**: пользователям с двухфакторной аутентификацией, включенной для их учетной записи e-mail, может потребоваться произвести дополнительный шаг для использования K-9 Mail.

Например:
* Пользователи Gmail должны разрешить менее защищенным приложениям доступ к своим учетным записям в настройках и создать одноразовый пароль. Подробнее [здесь](https://support.google.com/accounts/answer/6010255?hl=en).
* Пользователи Yahoo могут использовать приложения, которые используют менее безопасный вход в настройках учетной записи. Подробнее читайте здесь (https://help.yahoo.com/kb/SLN27791.html?guccounter=1).

(Провайдеры классифицируют K-9 Mail как «менее безопасный», поскольку он не использует тот же протокол аутентификации. Среди надежных инструментов с открытым исходным кодом, такие как K-9 Mail, по-прежнему считаются безопасными для зашифрованной электронной почты.)


**Шаг 2:**. Введите свое имя так, как оно будет отображаться во всех исходящих письмах, и укажите имя учетной записи, чтобы различать несколько учетных записей. Нажмите *Готово*.

**Шаг 3:** Отправьте себе электронное письмо со своего компьютера, чтобы убедиться, что вы можете прочитать его в K-9 Mail.

**Примечание:** Если вы выберете *ручную настройку*, вам будет предложено выбрать настройки для вашего типа электронной почты (IMAP/POP/Exchange), а также настройки сервера входящей и исходящей почты. Обратитесь к настройкам вашего почтового клиента на вашем компьютере для получения этой информации.

- Для настроек сервера всегда убедитесь, что для *типа безопасности* установлено *STARTTLS* или *SSL/TLS*. **Никогда** не используйте параметр *none*.

- Если K-9 Mail отображает предупреждение о сертификате вашего защищенного соединения, *не игнорируйте его,* но убедитесь, что сертификат действительно принадлежит вашему почтовому серверу. Если этого не произойдет, ваши сообщения могут быть перехвачены. Вы должны увидеть отпечаток SHA-1 в самом конце предупреждения. Проверьте на своем компьютере, имеет ли установленный сертификат вашего почтового сервера такой же отпечаток, или найдите способ проверить сертификат вашего почтового сервера непосредственно у вашего провайдера.


Мы рекомендуем вам использовать **K-9 Mail** в дополнение к почтовому клиенту вашего компьютера. При загрузке электронной почты она по умолчанию не удаляется с сервера, поскольку вы также хотите получать электронную почту на свой компьютер. Но эту и другие настройки можно изменить. Длительно нажмите на учетную запись, которую вы только что настроили, и выберите в меню *настройки учетной записи* или коснитесь трех точек в правом нижнем углу приложения и выберите «Настройки», чтобы просмотреть параметры.

# 3. Отправка и получение зашифрованных писем

**Шаг 1:** В разделе «Настройки» нажмите *Криптография*. Если вы этого еще не сделали, K-9 Mail предложит вам загрузить Open Keychain. Как только вы загрузите Open Keychain, выберите его в K-9 Mail.

![](tool_k9_5.png)

Прежде чем вы сможете начать отправку и получение зашифрованной электронной почты, вам необходимо убедиться, что все ваши ключи OpenPGP импортированы в Open Keychain.

# 4. Настройте Open Keychain

Нажмите Open Keychain, чтобы открыть приложение. В разделе «Настройки» нажмите «Управление моими ключами» *.

![](tool_k9_6.png)  

**Вариант 1:** Если вы используете PGP впервые или хотите создать новый ключ, нажмите *Создать мой ключ* и следуйте инструкциям.

**Вариант 2:** Если у вас уже есть ключ PGP и вы хотите использовать его на своем устройстве Android, откройте программу, которую вы используете для управления ключами на вашем компьютере (например, GPG Keychain или Mailvelope) и экспортируйте свой собственный ключ, включая Ваш закрытый или секретный ключ. Сохраните файл в безопасном месте.

**Примечание:** Ваш закрытый ключ может использоваться для идентификации вас и расшифровки ваших зашифрованных сообщений. Переносить его на мобильное устройство рискованно, поскольку файл может быть утерян или перехвачен.

Если вы решите перенести свой файл закрытого ключа, примите меры предосторожности:

- Подключите доверенное устройство Android к доверенному компьютеру с помощью USB-кабеля для его прямой передачи или включите Bluetooth на доверенном компьютере и доверенном устройстве Android (проверьте соответствие кодов сопряжения) и используйте функцию «отправить файл на устройство»; или же,
- См. материалы [Open Keychain](https://www.openkeychain.org/faq/#what-is-the-best-way-to-transfer-my-own-key-to-openkeychain) о защите паролем вашего ключа, используя командную строку перед передачей через Интернет.

В окне «Управление ключами» Open Keychain нажмите *Импорт ключа из файла*, а затем значок файла. Перейдите в папку, куда вы переместили файл, выберите его и нажмите *OPEN*. Вы также можете использовать *Импорт ключа из файла* для передачи открытых ключей, которыми другие люди поделились с вами. Успешно импортированные ключи теперь появятся в вашем списке ключей. Как только вы увидите их в Open Keychain, удалите файлы с вашего устройства. Не оставляйте их в папке.

(Чтобы узнать больше об управлении ключами, прочитайте о Менеджерах ключей и подписи ключей в глоссарии Umbrella.)


# 5. Обмен зашифрованной электронной почтой с K9

**Шаг 1:** На любом экране **K-9 Mail** нажмите значок конверта +, чтобы начать новое письмо кому-то, с кем вы уже обменялись открытыми ключами.

**Шаг 2:** Добавьте e-mail адрес получателя в поле *Кому*.

**Шаг 3:**

![](tool_k9_7.png)

Нажмите на серый значок замка; он станет зеленым, когда шифрование активно.

![](tool_k9_8.png) 

**Шаг 4:** Отправьте сообщение.

**Шаг 5:** Когда вы получите зашифрованный ответ, K-9 Mail автоматически предложит вам ввести вашу парольную фразу GPG и расшифровать почту.
