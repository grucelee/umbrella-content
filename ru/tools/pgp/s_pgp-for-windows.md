---
index: 12
title: PGP для Windows
---
# РУКОВОДСТВО К ИНСТРУМЕНТУ PGP ДЛЯ WINDOWS

Шифрование электронной почты для Windows

** Урок для чтения: **
- **[E-mail](umbrella://communications/email)**  
** Местоположение загрузки: **
- GPG4Win
- Mozilla Thunderbird
- Enigmail
** Требования к компьютеру: ** Интернет-соединение, компьютер под управлением Windows, учетная запись электронной почты
** Версия, используемая в этом руководстве: **
- Windows: Windows 7 Ultimate
- Mozilla Thunderbird 24.6.0  
- Enigmail 1.7  
- GPG4Win 2.2.1  
** Лицензия: ** Бесплатное ПО; сочетание лицензий на бесплатное программное обеспечение
** Уровень: ** Продвинутый
** Требуемое время: ** 30-60 минут

** Использование PGP даст вам: **
- Способность защитить ваши сообщения электронной почты от прочтения кем-либо, кроме их предполагаемых получателей.
- Возможность доказать, что электронное письмо пришло от конкретного человека, а не является поддельным сообщением, отправленным другим отправителем (в противном случае электронное письмо очень легко подделать). Оба этих фактора являются важной защитой, если вы подвергаетесь преследованию или дезинформации.

** Примечание: ** Если вы обеспокоены тем, что электронная почта, зашифрованная PGP, может быть небезопасной после того, как в мае 2018 года были обнаружены уязвимости, прочитайте раздел Efail нашего урока [E-mail уровня Продвинутый](umbrella://communications/email).

### 1.0 Прежде чем начать

Чтобы использовать Pretty Good Privacy (PGP), вам нужно установить дополнительное программное обеспечение, которое будет работать с вашей текущей почтовой программой. Вам также нужно будет создать закрытый ключ, который вы будете хранить в секрете. Закрытый ключ - это то, что вы будете использовать для расшифровки отправленных вам электронных писем, а также для цифровой подписи отправляемых вами писем, чтобы показать, что они действительно пришли от вас. Наконец, вы узнаете, как распространять ваш открытый ключ - небольшой фрагмент информации, который другие должны будут знать, прежде чем они смогут отправлять вам зашифрованные письма, и который они могут использовать для проверки отправляемых вами электронных писем.

** Обратите внимание, что для работы обоих отправителей/получателей электронной почты необходимо использовать PGP-совместимое программное обеспечение. **

Люди обычно используют его только на своих личных устройствах, а не на общих устройствах. К счастью, PGP доступен для большинства компьютеров и мобильных устройств, и вы можете отправить им эти руководства, чтобы помочь настроить свою собственную версию. Это руководство для пользователей Windows.

### 1.1 Обзор

Чтобы использовать PGP для обмена защищенными электронными письмами, вам нужно собрать вместе три программы: GPG4Win (GNU Privacy Guard для Windows, известную как GnuPG), Mozilla Thunderbird и Enigmail.

- GnuPG - это программа, которая фактически шифрует и дешифрует содержимое вашей почты.
- Mozilla Thunderbird - это почтовый клиент, который позволяет читать и писать электронные письма без использования браузера.
- Enigmail - это дополнение к Mozilla Thunderbird, которое связывает все это вместе.

Примечание! В этом руководстве рассказывается, как использовать PGP с Mozilla Thunderbird, почтовым клиентом, который выполняет функцию, аналогичную Outlook. У вас может быть ваша любимая программа для работы с e-mail (или вы можете использовать службу веб-почты, такую как Google Mail или Outlook.com). Это руководство не расскажет вам, как использовать PGP с этими программами. Вы можете либо установить Thunderbird и поэкспериментировать с PGP - с новым почтовым клиентом - либо исследовать другие решения для использования PGP с вашим обычным программным обеспечением. Мы до сих пор не нашли единого удовлетворительного решения для этих других программ.

** Использование PGP не позволяет полностью зашифровать вашу электронную почту: информация об отправителе и получателе остается незашифрованной, как и строка темы! **

Шифрование информации об отправителе и получателе невозможно в существующей системе электронной почты. Использование Mozilla Thunderbird с надстройкой Enigmail дает вам простой способ зашифровать содержимое вашего письма. Кто-то, кто следит за вашими электронными письмами, может по-прежнему видеть личность людей, с которыми вы общаетесь, и когда вы отправляете им электронное письмо.

Сначала вы загрузите все необходимое программное обеспечение, установите его, а затем завершите настройку и начнете использование.

### 2 Загрузка программного обеспечения

### 2.1 Получение GPG4Win

Вы можете использовать GnuPG (также известный как GPG) на Windows, загрузив небольшой установщик со страницы загрузки GPG4Win.
![image](tool_pgpwin1.png)

Нажмите на самую последнюю версию GPG4Win только с компонентом GnuPG (Vanilla или Light), чтобы загрузить установщик GPG.

** Примечание. Эта версия GPG доступна только на веб-сайте, который предлагает загрузку по протоколу http, а не защищенную загрузку по протоколу https. Если вы обеспокоены тем, что ваша организация может стать объектом наблюдения со стороны организации, которая может вмешаться в ваше интернет-соединение, возможно, вы захотите изучить более радикальные решения, такие как загрузка и запуск Tails, безопасной операционной системы, которая заменяет Windows. **

Многие браузеры спросят вас подтвердить, хотите ли вы загрузить этот файл. Internet Explorer 11 показывает полосу в нижней части окна браузера с оранжевой рамкой.

Для любого браузера лучше сначала сохранить файл, прежде чем продолжить, поэтому нажмите кнопку «Сохранить». По умолчанию большинство браузеров сохраняют загруженные файлы в папке «Загрузки».

### 2.2 Получение Mozilla Thunderbird

Перейдите на сайт Mozilla Thunderbird.
![image](tool_pgpwin2.png)

Нажмите на зеленую кнопку с надписью «Скачать Thunderbird бесплатно».

Веб-сайт Mozilla Thunderbird определит ваш предпочитаемый язык. Если вы хотите использовать Thunderbird на другом языке, нажмите ссылку «Другие системы и языки» и сделайте свой выбор там.

Многие браузеры попросят вас подтвердить, хотите ли вы загрузить этот файл. Internet Explorer 11 показывает полосу в нижней части окна браузера с оранжевой рамкой.
![image](tool_pgpwin3.png)

Для любого браузера лучше сначала сохранить файл, прежде чем продолжить, поэтому нажмите кнопку «Сохранить». По умолчанию большинство браузеров сохраняют загруженные файлы в папке «Загрузки».

### 2.3 Получение Enigmail

Вы можете получить Enigmail с сайта Enigmail.
![image](tool_pgpwin4.png)

Многие браузеры попросят вас подтвердить, хотите ли вы загрузить этот файл. Internet Explorer 11 показывает полосу в нижней части окна браузера с оранжевой рамкой.
![image](tool_pgpwin5.png)
Для любого браузера лучше сначала сохранить файл, прежде чем продолжить, поэтому нажмите кнопку «Сохранить». По умолчанию большинство браузеров сохраняют загруженные файлы в папке «Загрузки».


После загрузки Enigmail, GPG4Win и Mozilla Thunderbird у вас должно быть три новых файла в папке «Загрузки»:
![image](tool_pgpwin6.png)

### 3 Установка программного обеспечения

### 3.1 Установка GPG4Win

Оставьте окно проводника открытым и дважды щелкните файл gpg4win-xxx-x.x.x.exe. Вам будет задан вопрос, хотите ли вы разрешить установку этой программы. Нажмите кнопку «Да».
![image](tool_pgpwin7.png)

Откроется окно с обзором того, что будет установлено. Нажмите кнопку «Далее».
![image](tool_pgpwin8.png)

Откроется окно с лицензионным соглашением. Нажмите кнопку «Далее».
![image](tool_pgpwin9.png)

В пакете GPG4Win Vanilla нет компонентов для выбора, поэтому снова нажмите кнопку «Далее». Для пакета GPG4Win-Light отмените выбор всех дополнительных компонентов, чтобы установить только GnuPG.
![image](tool_pgpwin10.png)

Далее у вас будет возможность выбрать, где установлен GPG. Не меняйте настройки по умолчанию. Нажмите кнопку «Далее».
![image](tool_pgpwin11.png)

Следующие два окна будут иметь несколько вариантов установки. Нажмите кнопку «Далее», а затем нажмите кнопку «Установить»:
![image](tool_pgpwin12.png)![image](tool_pgpwin13.png)

Вы увидите окно с индикатором выполнения - когда процесс будет выполнен, будет написано «Установка завершена». Нажмите кнопку «Далее» еще раз.
![image](tool_pgpwin14.png)

Наконец, вы находитесь на последнем этапе установки. Снимите флажок рядом с «Показать файл README» и нажмите кнопку «Готово».
![image](tool_pgpwin15.png)

Вот и все. Теперь давайте перейдем к установке Mozilla Thunderbird.

### 3.2 Установка Mozilla Thunderbird

Аналогично GPG4Win, вы устанавливаете Mozilla Thunderbird, дважды щелкнув файл Thunderbird Setup 24.6.0.exe. Как обычно, вас спросят, хотите ли вы запустить этот файл. Нажмите кнопку «Выполнить».
![image](tool_pgpwin16.png)

Вам будет задан вопрос, хотите ли вы разрешить Mozilla Thunderbird внести изменения в ваш компьютер путем установки программного обеспечения. Нажмите кнопку «Да».
![image](tool_pgpwin17.png)

Вы увидите окно настройки Mozilla Thunderbird. Нажмите кнопку «Далее».
![image](tool_pgpwin18.png)

Далее вы получите выбор между стандартной настройкой и пользовательской настройкой. Оставьте стандартную настройку и нажмите кнопку «Далее».
![image](tool_pgpwin18.png)

Вам будет предоставлена сводная информация о том, где будут установлены файлы Mozilla Thunderbird. Нажмите кнопку «Установить».
![image](tool_pgpwin19.png)

Когда процесс установки завершится, вы увидите последнее окно, которое позволяет вам запустить Mozilla Thunderbird. Нажмите кнопку «Готово».
![image](tool_pgpwin20.png)

### 3.3. Установка Enigmail

** Шаг 1. Подготовка **

Когда Mozilla Thunderbird запускается в первый раз, вы увидите это маленькое окно подтверждения, спрашивающее о некоторых настройках по умолчанию. Мы рекомендуем нажать кнопку «Установить по умолчанию».
![image](tool_pgpwin21.png)

Далее вас спросят, хотите ли вы создать новый адрес e-mail. Нажмите кнопку «Пропустить и использовать мою существующую электронную почту». Теперь вы настроите Mozilla Thunderbird для отправки и получения электронной почты. Если вы привыкли читать и отправлять почту только через gmail.com, outlook.com или yahoo.com, Mozilla Thunderbird станет новым опытом, но в целом он не так уж отличается.
![image](tool_pgpwin22.png)

** Шаг 2. Добавление почтового аккаунта в Mozilla Thunderbird **

Откроется новое окно.
![image](tool_pgpwin23.png)

Введите свое имя, e-mail и пароль к своей учетной записи электронной почты. Mozilla не имеет доступа к вашему паролю или e-mail аккаунту. Нажмите кнопку «Продолжить».
![image](tool_pgpwin24.png)

Во многих случаях Mozilla Thunderbird автоматически обнаружит необходимые настройки. В некоторых случаях Mozilla Thunderbird не имеет полной информации, и вам нужно будет ввести их самостоятельно. Вот пример инструкций, которые Google предоставляет для Gmail:

Сервер входящей почты (IMAP) - требуется SSL
- imap.gmail.com  
- Порт: 993
- Требуется SSL: Да

Сервер исходящей почты (SMTP) - требуется TLS
- smtp.gmail.com  
- Порт: 465 или 587
- Требуется SSL: Да
- Требуется аутентификация: да
- Используйте те же настройки, что и сервер входящей почты

** Полное имя или отображаемое имя: ** [ваше имя или псевдоним]

** Имя учетной записи или имя пользователя: ** ваш полный адрес Gmail (username@gmail.com). Пользователи Google Apps, пожалуйста, введите username@your_domain.com

** E-mail адрес: ** ваш полный адрес Gmail (username@gmail.com) для пользователей Google Apps, введите username@your_domain.com

** Пароль: ** ваш пароль Gmail

** Если вы используете двухфакторную аутентификацию в Google (и, в зависимости от модели угрозы, вам, вероятно, следует ее использовать!), Вы не можете использовать свой стандартный пароль Gmail с Thunderbird. Вместо этого вам нужно будет создать новый пароль для приложения, чтобы Thunderbird мог получить доступ к вашей учетной записи Gmail. См. [Собственное руководство Google](https://support.google.com/mail/answer/1173270?hl=en) для этого. **

Когда вся информация введена правильно, нажмите кнопку «Готово».
![image](tool_pgpwin25.png)

Mozilla Thunderbird начнет загрузку копий ваших писем на ваш компьютер. Попробуйте отправить тестовое письмо своим друзьям.

** Шаг 3. Установка Enigmail **

Enigmail устанавливается не так, как Mozilla Thunderbird и GPG4Win. Как упоминалось ранее, Enigmail является надстройкой для Mozilla Thunderbird. Нажмите кнопку «Меню», также называемую кнопкой «Гамбургер», и выберите «Добавить дополнения».
![image](tool_pgpwin26.png)

Вы попадете на вкладку Менеджер дополнений.
![image](tool_pgpwin27.png)

Нажмите на шестеренку, чтобы открыть маленькое меню, и выберите «Установить дополнение из файла», которое откроет окно выбора файла.
![image](tool_pgpwin28.png)

Скорее всего, окно выбора файла откроется в папке «Загрузки». Если этого не произойдет, перейдите в папку «Загрузки» (куда была сохранена Enigmail), нажмите на enigmail-1.7-tb + sm.xpi и нажмите кнопку «Открыть».
![image](tool_pgpwin29.png)

Теперь вы увидите небольшое окно с просьбой подтвердить, хотите ли вы установить Enigmail. Нажмите кнопку «Установить сейчас».
![image](tool_pgpwin30.png)

После установки надстройки Enigmail Mozilla Thunderbird попросит перезапустить браузер, чтобы активировать Enigmail. Нажмите кнопку «Перезагрузить сейчас», и Mozilla Thunderbird перезагрузится.
![image](tool_pgpwin31.png)

Когда Mozilla Thunderbird перезапустится, откроется дополнительное окно, которое запустит процесс настройки дополнения Enigmail. Оставьте выбранной кнопку «Да, я хочу запустить мастер начала работы» и нажмите кнопку «Далее».
![image](tool_pgpwin32.png)

Enigmail предоставляет вам три варианта обработки почты. Шифрование электронной почты используется по умолчанию, если у вас есть «открытый ключ» другого человека, Enigmail зашифрует отправленную вами электронную почту, но оставит письма незашифрованными, если у вас еще нет открытого ключа получателя. У вас также есть возможность постоянно для всех шифровать электронные письма с помощью ключей PGP, а это значит, что вам придется находить открытые ключи людей, для которых их у вас еще нет, или полностью отключить автоматическое шифрование и использовать PGP только для отдельных писем.
![image](tool_pgpwin33.png)

Мы не знаем, какой вариант подходит вам, но считаем, что вариант «Удобное автоматическое шифрование» является хорошим выбором. Если у вас есть сомнения, выберите «Не шифровать мои сообщения по умолчанию». Нажмите кнопку «Далее».

Теперь у вас есть возможность цифровой подписи всех исходящих писем. Подписание электронной почты с помощью PGP позволяет получателю проверить, что именно вы отправили сообщение и что содержимое сообщения не было подделано. Нажмите кнопку «Подписывать мои сообщения по умолчанию», чтобы включить эту функцию. Недостатком этого является, однако, то, что оно также может подписать письмо любому, кому вы отправляете почту, для которой вы используете PGP. [В некоторых частях мира](www.cryptolaw.org/) (включая Китай, Иран, Беларусь и некоторые страны Ближнего Востока) использование нелицензированного шифрования, даже для личного использования, является незаконным, поэтому у вас могут быть очень веские причины чтобы другие не знали, что вы используете PGP.

Нажмите кнопку «Далее».
![image](tool_pgpwin34.png)

Теперь вы увидите, что Enigmail может внести некоторые изменения в конфигурацию Mozilla Thunderbird.
![image](tool_pgpwin35.png)

Если вы нажмете кнопку Подробности, вы сможете просмотреть, что это за изменения.
![image](tool_pgpwin36.png)

Следующие параметры могут быть отключены (и повторно включены) для более плавного перехода, если вы по умолчанию используете PGP / Mime (мы установим это позже):

- Отключить потоковый текст
- Просматривать тело сообщения как обычный текст
- Не составлять HTML-сообщения
Последний вариант предотвращает возможные проблемы с шифрованием и дешифрованием вашей электронной почты. Имейте в виду, что выбор этого поля удалит возможность отправлять текст, выделенный жирным шрифтом, подчеркнутый или цветной. Ознакомившись с изменениями, нажмите кнопку «ОК».


Маленькое окно закроется. Нажмите кнопку «Далее».

Теперь вы начнете создавать свой закрытый ключ и открытый ключ.

### 4 Создание открытого ключа и закрытого ключа

Установка и настройка дополнения Enigmail завершена. Теперь у вас будет возможность создать пару открытого и закрытого ключей. Это предполагает, что вы не создали закрытый ключ раньше.

Нажмите "Далее".
![image](tool_pgpwin37.png)

Если вы уже настроили более одного e-mail аккаунта, Enigmail может выбрать учетную запись из уже настроенных. Первое, что вам нужно сделать, это придумать надежную фразу-пароль для вашего закрытого ключа. См. ** [урок Пароли](umbrella://information/passwords) ** для получения дополнительной информации о том, как это сделать.

Убедитесь, что вы записали эту фразу на бумаге, пока не запомните ее. Держите ее где-нибудь, где вы сможете узнать, была ли она взята или просмотрена (например, кошелек или бумажник). Просто убедитесь, что вы не оставляете эту бумагу на видном месте.

Нажмите "Далее".

Enigmail отобразит некоторую информацию о вашем закрытом ключе, а также о настройках конфигурации. Мы рекомендуем создавать ключи длиной 4096 бит. Нажмите кнопку «Далее».
![image](tool_pgpwin38.png)

** Срок действия вашего ключа истекает в определенное время; когда это произойдет, другие люди полностью перестанут использовать его для новых писем, хотя вы можете не получить никакого предупреждения или объяснения причин. Таким образом, вы можете отметить в своем календаре и обратить внимание на этот вопрос примерно за месяц до истечения срока действия. **

Можно продлить срок действия существующего ключа, задав ему новый, более поздний срок действия, или можно заменить его новым ключом, создав новый с нуля. Для обоих процессов может потребоваться связаться с людьми, которые пишут вам по e-mail, и убедиться, что они получили обновленный ключ; текущее программное обеспечение не очень хорошо автоматизирует это. Так что сделайте напоминание для себя; если вы не думаете, что сможете управлять им, вы можете установить ключ так, чтобы он никогда не истекал, хотя в этом случае другие люди могут попытаться использовать его, чтобы связаться с вами в будущем, даже если вы больше не будете иметь закрытый ключ или больше не использовать PGP.

Enigmail сгенерирует ключ, и когда процесс будет завершен, откроется небольшое окно с просьбой сгенерировать сертификат отзыва. Этот сертификат отзыва важно иметь, поскольку он позволяет сделать закрытый ключ и открытый ключ недействительными. Важно отметить, что простое удаление закрытого ключа не делает недействительным открытый ключ и может привести к тому, что люди отправят вам зашифрованную почту, которую вы не сможете расшифровать.

Нажмите кнопку «Создать сертификат».
![image](tool_pgpwin39.png)

Откроется окно, чтобы предоставить вам место для сохранения сертификата отзыва. Несмотря на то, что вы можете сохранить файл на своем компьютере, мы рекомендуем сохранить файл на USB-накопителе, который вы не используете ни для чего другого, и хранить его в безопасном месте. Мы также рекомендуем удалить сертификат отзыва с компьютера с ключами, чтобы избежать непреднамеренного отзыва.

Еще лучше, сохраните этот файл на отдельном зашифрованном диске. Выберите место, где вы сохраняите этот файл, и нажмите кнопку «Сохранить».
![image](tool_pgpwin40.png)

Теперь Enigmail предоставит вам дополнительную информацию о сохранении файла сертификата отзыва снова. Нажмите кнопку «ОК».
![image](tool_pgpwin41.png)

Наконец, вы закончили с генерацией закрытого ключа и открытого ключа. Нажмите кнопку «Готово».
![image](tool_pgpwin42.png)

### 5 дополнительных шагов

### 5.1 Показать длинные идентификаторы ключей

Следующие шаги не являются обязательными, но могут быть полезны при использовании OpenPGP и Enigmail. Вкратце, идентификатор ключа является небольшой частью его отпечатка. Когда дело доходит до проверки того, что открытый ключ принадлежит конкретному человеку, лучше всего использовать отпечатки. Изменение отображения по умолчанию облегчает чтение отпечатков сертификатов, о которых вы знаете. Нажмите кнопку конфигурации, затем опцию Enigmail, затем Управление ключами.
![image](tool_pgpwin43.png)

Откроется окно с двумя столбцами: Имя и Идентификатор ключа.
![image](tool_pgpwin43.png)

Справа есть маленькая кнопка. Нажмите эту кнопку, чтобы настроить столбцы. Снимите флажок «Идентификатор ключа» и выберите «Отпечаток».
![image](tool_pgpwin44.png)

Теперь столбцы будут выглядеть так:
![image](tool_pgpwin45.png)

Теперь вы настроены на отправку и получение обычной и зашифрованной электронной почты. Далее вы пройдете этапы поиска людей для обмена зашифрованной почтой.

### 5.2 Использование PGP / MIME

Последний необязательный шаг настройки - включить PGP / MIME, что упрощает отправку зашифрованных и подписанных вложений.

Вы можете найти этот параметр, нажав на кнопку «Меню», наведя курсор мыши на «Параметры», затем нажмите «Настройки учетной записи». Откроется окно настроек учетной записи.
![image](tool_pgpwin46.png)

Когда откроется окно «Настройки учетной записи», перейдите на вкладку «Безопасность OpenPGP» и установите флажок «Использовать PGP / MIME по умолчанию». Затем нажмите кнопку ОК. Теперь Enigmail будет использовать PGP / MIME по умолчанию.
![image](tool_pgpwin47.png)

** Использование PGP не позволяет полностью зашифровать вашу электронную почту, чтобы отправитель и получатель информации были зашифрованы. Шифрование информации об отправителе и получателе может привести к взлому электронной почты. Использование Thunderbird с надстройкой Enigmail дает вам простой способ зашифровать и расшифровать содержимое вашей электронной почты. **

### 6.1 Сообщить другим, что вы используете PGP

Теперь, когда у вас есть PGP, вы захотите, чтобы другие знали, что вы его используете, чтобы они также могли отправлять вам зашифрованные сообщения с использованием PGP.

Давайте рассмотрим три различных способа, которыми вы можете сообщить людям, что вы используете PGP.

** а) Дайте людям знать, что вы используете PGP по e-mail **

Вы можете легко отправить свой открытый ключ по e-mail другому человеку, отправив ему копию в виде вложения.

Нажмите кнопку «Написать» в Mozilla Thunderbird.
![image](tool_pgpwin48.png)

Введите адрес и тему, возможно, что-то вроде «мой открытый ключ», откройте меню Enigmail и выберите «Прикрепить мой открытый ключ».
![image](tool_pgpwin49.png)

Вы можете отправить электронное письмо, и получатель сможет загрузить и использовать открытый ключ, который вы отправили.

Если используется этот метод, желательно, чтобы получатель проверил отпечаток вашего открытого ключа по какой-либо другой форме связи, в случае, если электронная почта уже перехвачена и подделана.

** б) Дайте людям знать, что вы используете PGP через информацию на вашем сайте **

В дополнение к тому, что люди сообщают об этом по e-mail, вы можете опубликовать свой открытый ключ на своем веб-сайте. Самый простой способ - загрузить файл и дать ссылку на него. В этом руководстве не будет рассказано, как делать эти вещи, но вы должны знать, как экспортировать сертификат в виде файла для использования в будущем.

Нажмите кнопку конфигурации, затем откройте опции Enigmail, затем выберите Управление ключами.

Выделите сертификат мышкой, затем щелкните правой кнопкой мыши, чтобы открыть меню, и выберите «Экспорт ключей в файл».
![image](tool_pgpwin50.png)

Появится небольшое окно с тремя кнопками. Нажмите кнопку «Экспортировать только открытые ключи».
![image](tool_pgpwin51.png)

Убедитесь, что вы не нажимаете кнопку «Экспорт секретных ключей», потому что экспорт секретного ключа может позволить другим выдать себя за вас, если они смогут угадать ваш пароль.

Теперь откроется окно, чтобы вы могли сохранить файл. Для облегчения поиска в будущем сохраните файл в папке «Документы».
![image](tool_pgpwin52.png)

Теперь вы можете использовать этот файл по своему желанию.

** c) Загрузка на сервер ключей **

Серверы ключей облегчают поиск и загрузку открытых ключей. Большинство современных серверов ключей синхронизируются, что означает, что открытый ключ, загруженный на один сервер, в конечном итоге достигнет всех серверов.

Хотя загрузка вашего открытого ключа на сервер ключей может быть удобным способом информирования людей о том, что у вас есть открытый сертификат PGP, вы должны знать, что из-за особенностей работы серверов ключей будет невозможно удалить открытые ключи после их загрузки. Вы можете пометить их только как отозванные.

** Перед загрузкой вашего открытого ключа на сервер ключей полезно подумать, хотите ли вы, чтобы весь мир знал, что у вас есть открытый ключ без возможности удалить эту информацию позже. **

Если вы решите загрузить свой открытый ключ на сервер ключей, вернитесь в окно управления ключами Enigmail.

Щелкните элемент меню «Сервер ключей» и выберите параметр «Загрузка открытых ключей».
![image](tool_pgpwin53.png)

### 6.2 Поиск других людей, которые используют PGP

** а) Получение открытого ключа по e-mail **

Вы можете получить открытый ключ в виде вложения в электронное письмо.
![image](tool_pgpwin54.png)

Дважды щелкните новое сообщение, и откроется новая вкладка. Обратите внимание на вложение в нижней части окна. Щелкните правой кнопкой мыши на вложении и выберите «Импортировать ключ OpenPGP». Откроется небольшое окно с результатами импорта. Нажмите кнопку ОК.
![image](tool_pgpwin55.png)

Если вы снова откроете окно управления ключами Enigmail, вы можете проверить результат. Ваш ключ PGP выделен жирным шрифтом, поскольку у вас есть как закрытый ключ, так и открытый ключ. Открытый ключ, который вы только что импортировали, не выделен жирным шрифтом, поскольку он не содержит закрытого ключа.
![image](tool_pgpwin56.png)

** б) Получение открытого ключа в виде файла **

Возможно, вы получите открытый ключ, загрузив его с веб-сайта, или кто-то мог отправить его через программное обеспечение для чата. В таком случае вы предположите, что загрузили файл в папку «Загрузки».

Откройте диспетчер ключей Enigmail и выберите меню «Файл». Выберите «Импортировать ключи из файла».
![image](tool_pgpwin57.png)

Открытый ключ может иметь очень разные окончания имен файлов, такие как .asc, .pgp или .gpg. Выберите файл и нажмите кнопку «Открыть».
![image](tool_pgpwin58.png)

Откроется небольшое окно с результатами импорта. Нажмите кнопку «ОК».
![image](tool_pgpwin59.png)

** в) Получение открытого ключа с сервера ключей **

Сервер ключей может быть очень полезным способом получения открытых ключей. Попробуйте найти открытый ключ. Откройте диспетчер ключей, затем откройте меню «Сервер ключей» и выберите «Поиск ключей».
![image](tool_pgpwin60.png)

Появится небольшое окно с полем поиска. Вы можете выполнить поиск по полному адресу электронной почты, частичному адресу электронной почты или по имени. В этом случае вы будете искать сертификаты, содержащие «eff.org».
![image](tool_pgpwin61.png)

Появится окно побольше с большим количеством опций. Если вы прокрутите вниз, то заметите, что некоторые сертификаты выделены курсивом и выделены серым цветом. Это сертификаты, которые были либо аннулированы, либо истекли сами по себе.
![image](tool_pgpwin62.png)

Давайте возьмем, например, открытые ключи Дэнни О'Брайена, у него есть один сертификат с истекшим сроком действия или отозванный сертификат и один действующий сертификат. Выберите действительный сертификат, нажав на поле слева, затем нажмите кнопку ОК.
![image](tool_pgpwin63.png)

В некоторых случаях человек может иметь более одного сертификата, причем все они действительны. Обратите внимание, что любой может загрузить публичный сертификат для кого-либо другого, и что один из этих ключей может не принадлежать лицу, которому принадлежит связанный с ним e-mail адрес. В этом случае проверка отпечатка ключа чрезвычайно важна.

Появится небольшое окно с уведомлением, сообщающее, если вам это удалось:
![image](tool_pgpwin64.png)

Менеджер ключей Enigmail покажет вам добавленные сертификаты:
![image](tool_pgpwin65.png)

### 7.1 Отправка зашифрованной почты PGP

Теперь вы можете отправить свое первое зашифрованное письмо получателю. В главном окне Mozilla Thunderbird нажмите кнопку «Написать». Откроется новое окно.
![image](tool_pgpwin66.png)

Наберите ваше сообщение и введите получателя. Для этого теста выберите получателя, открытый ключ которого у вас уже есть. Enigmail обнаружит его и автоматически зашифрует почту.
![image](tool_pgpwin67.png)

Обратите внимание, что строка темы не будет зашифрована, поэтому выберите что-нибудь безобидное, например «привет». _

Когда вы нажмете кнопку «Отправить», вы получите окно для ввода пароля к вашему ключу PGP. Помните, что он отличается от вашего пароля электронной почты!

Введите свой пароль, затем нажмите кнопку «ОК», и ваше письмо будет зашифровано и отправлено.
![image](tool_pgpwin68.png)

Тело письма было зашифровано и преобразовано. Например такой текст:
![image](tool_pgpwin69.png)

Будет преобразован в:
![image](tool_pgpwin70.png)

### 7.2 Получение зашифрованной почты PGP

Давайте рассмотрим, что происходит, когда вы получаете зашифрованную электронную почту. Обратите внимание, что Mozilla Thunderbird сообщает вам, что у вас есть новая почта. Нажмите на сообщение.
![image](tool_pgpwin71.png)

Откроется небольшое окно с запросом пароля к ключу PGP. Помните: не вводите свой пароль электронной почты. Нажмите кнопку «ОК».
![image](tool_pgpwin72.png)

Теперь сообщение будет отображаться расшифрованным
![image](tool_pgpwin73.png)

### 8 Отзыв ключа PGP

** а) Отзыв вашего ключа PGP через интерфейс Enigmail **

Срок действия ключей PGP, сгенерированных Enigmail, автоматически истекает через пять лет. Поэтому, если вы потеряете все свои файлы, вы можете надеяться, что люди будут знать об этом, чтобы попросить вас другой ключ, как только срок действия ключа истечет.

У вас может быть веская причина отключить ключ PGP до истечения срока его действия. Возможно, вы хотите сгенерировать новый, более сильный ключ PGP. Самый простой способ отозвать свой собственный ключ PGP в Enigmail - это через Enigmail Key Manager.
![image](tool_pgpwin74.png)

Щелкните правой кнопкой мыши на ключе PGP (он выделен жирным шрифтом) и выберите параметр «Отзыв ключа».
![image](tool_pgpwin75.png)

Появится окно, сообщающее вам, что происходит, и запрашивающее подтверждение. Нажмите кнопку «Отменить ключ».
![image](tool_pgpwin76.png)

Откроется окно пароля, введите пароль для ключа PGP и нажмите кнопку «ОК».
![image](tool_pgpwin77.png)

Теперь откроется новое окно, сообщающее, что вы добились успеха. Нажмите кнопку «ОК».
![image](tool_pgpwin78.png)

Когда вы вернетесь в окно управления ключами Enigmail, вы заметите изменение вашего ключа PGP. Теперь он выделен серым цветом и курсивом.
![image](tool_pgpwin79.png)

** б) отзыв ключа PGP с отзывом сертификата **

Как упоминалось ранее, срок действия ключей PGP, сгенерированных Enigmail, автоматически истекает через пять лет. Поэтому, если вы потеряете все свои файлы, вы можете быть уверены, что люди будут знать, чтобы попросить вас другой ключ, как только срок действия ключа истечет.

Как мы уже упоминали ранее, у вас может быть веская причина отключить ключ PGP до его истечения.

Точно так же у других могут быть веские причины для отзыва существующего ключа.

Вы можете узнать об отзыве сертификата от друзей в виде уведомления о том, что они хотят отозвать свой ключ.

В предыдущем разделе вы могли заметить, что Enigmail генерирует и импортирует сертификат отзыва внутренне, когда вы используете Enigmail Key Manager для отзыва ключа. Поскольку у вас уже есть сертификат отзыва, вы будете использовать тот, который вы сгенерировали ранее, чтобы отозвать свой собственный ключ.

Начните с Enigmail Key Manager, откройте меню «Файл» и выберите «Импортировать ключи из файла».
![image](tool_pgpwin80.png)

Откроется окно, в котором вы можете выбрать сертификат отзыва. Нажмите на файл и нажмите кнопку «Открыть».
![image](tool_pgpwin81.png)

Вы получите уведомление о том, что сертификат был успешно импортирован и ключ был отозван. Нажмите кнопку «ОК».
![image](tool_pgpwin82.png)

После того, как вы нажмете кнопку «ОК», вы вернетесь в Менеджер ключей Enigmail и увидите, что сертификат, который вы отозвали, выделен серым цветом и курсивом.
![image](tool_pgpwin83.png)

Если ключ, который вы отозвали, принадлежит вам, и вы ранее загрузили свой открытый ключ на сервер ключей, вам нужно будет повторно загрузить теперь отзыв ключа на сервер ключей, чтобы другие больше не использовали его.

Теперь, когда у вас есть все необходимые инструменты, попробуйте отправить собственное электронное письмо, зашифрованное PGP.